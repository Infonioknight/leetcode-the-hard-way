"use strict";(self.webpackChunkleetcode_the_hard_way=self.webpackChunkleetcode_the_hard_way||[]).push([[75760],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var o=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),u=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=u(e.components);return o.createElement(s.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),p=u(n),m=r,h=p["".concat(s,".").concat(m)]||p[m]||d[m]||a;return n?o.createElement(h,l(l({ref:t},c),{},{components:n})):o.createElement(h,l({ref:t},c))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,l=new Array(a);l[0]=m;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[p]="string"==typeof e?e:r,l[1]=i;for(var u=2;u<a;u++)l[u]=n[u];return o.createElement.apply(null,l)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},88185:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>b,frontMatter:()=>a,metadata:()=>i,toc:()=>u});var o=n(87462),r=(n(67294),n(3905));const a={description:"Author: @vigneshshiv | https://leetcode.com/problems/sudoku-solver/"},l="0037 - Sudoku Solver (Hard)",i={unversionedId:"0000-0099/sudoku-solver-hard",id:"0000-0099/sudoku-solver-hard",title:"0037 - Sudoku Solver (Hard)",description:"Author: @vigneshshiv | https://leetcode.com/problems/sudoku-solver/",source:"@site/solutions/0000-0099/0037-sudoku-solver-hard.md",sourceDirName:"0000-0099",slug:"/0000-0099/sudoku-solver-hard",permalink:"/solutions/0000-0099/sudoku-solver-hard",draft:!1,editUrl:"https://github.com/wingkwong/leetcode-the-hard-way/tree/main/solutions/0000-0099/0037-sudoku-solver-hard.md",tags:[],version:"current",sidebarPosition:37,frontMatter:{description:"Author: @vigneshshiv | https://leetcode.com/problems/sudoku-solver/"},sidebar:"tutorialSidebar",previous:{title:"0036 - Valid Sudoku (Easy)",permalink:"/solutions/0000-0099/valid-sudoku-easy"},next:{title:"0039 - Combination Sum (Medium)",permalink:"/solutions/0000-0099/combination-sum-medium"}},s={},u=[{value:"Problem Link",id:"problem-link",level:2},{value:"Problem Statement",id:"problem-statement",level:2},{value:"Approach 1: Recursion with Backtrack",id:"approach-1-recursion-with-backtrack",level:2}],c=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.kt)("div",t)},p=c("Tabs"),d=c("TabItem"),m=c("SolutionAuthor"),h={toc:u},k="wrapper";function b(e){let{components:t,...n}=e;return(0,r.kt)(k,(0,o.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"0037---sudoku-solver-hard"},"0037 - Sudoku Solver (Hard)"),(0,r.kt)("h2",{id:"problem-link"},"Problem Link"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://leetcode.com/problems/sudoku-solver/"},"https://leetcode.com/problems/sudoku-solver/")),(0,r.kt)("h2",{id:"problem-statement"},"Problem Statement"),(0,r.kt)("p",null,"Write a program to solve a Sudoku puzzle by filling the empty cells."),(0,r.kt)("p",null,"A sudoku solution must satisfy all of the following rules:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Each of the digits ",(0,r.kt)("inlineCode",{parentName:"li"},"1-9")," must occur exactly once in each row."),(0,r.kt)("li",{parentName:"ol"},"Each of the digits ",(0,r.kt)("inlineCode",{parentName:"li"},"1-9")," must occur exactly once in each column."),(0,r.kt)("li",{parentName:"ol"},"Each of the digits ",(0,r.kt)("inlineCode",{parentName:"li"},"1-9")," must occur exactly once in each of the $9$ ",(0,r.kt)("inlineCode",{parentName:"li"},"3x3")," sub-boxes of the grid.")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"'.'")," character indicates empty cells."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Example 1:")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/ff/Sudoku-by-L2G-20050714.svg/250px-Sudoku-by-L2G-20050714.svg.png",alt:"Alt text"})),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'Input: board = \n[["5","3",".",".","7",".",".",".","."]\n,["6",".",".","1","9","5",".",".","."]\n,[".","9","8",".",".",".",".","6","."]\n,["8",".",".",".","6",".",".",".","3"]\n,["4",".",".","8",".","3",".",".","1"]\n,["7",".",".",".","2",".",".",".","6"]\n,[".","6",".",".",".",".","2","8","."]\n,[".",".",".","4","1","9",".",".","5"]\n,[".",".",".",".","8",".",".","7","9"]]\nOutput: \n[["5","3","4","6","7","8","9","1","2"]\n,["6","7","2","1","9","5","3","4","8"]\n,["1","9","8","3","4","2","5","6","7"]\n,["8","5","9","7","6","1","4","2","3"]\n,["4","2","6","8","5","3","7","9","1"]\n,["7","1","3","9","2","4","8","5","6"]\n,["9","6","1","5","3","7","2","8","4"]\n,["2","8","7","4","1","9","6","3","5"]\n,["3","4","5","2","8","6","1","7","9"]]\n\nExplanation: The input board is shown above and the only valid solution is shown below:\n\n')),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/31/Sudoku-by-L2G-20050714_solution.svg/250px-Sudoku-by-L2G-20050714_solution.svg.png",alt:"Alt text"})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Constraints:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"board.length == 9")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"board[i].length == 9")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"board[i][j]")," is a digit ",(0,r.kt)("inlineCode",{parentName:"li"},"1-9")," or ",(0,r.kt)("inlineCode",{parentName:"li"},"'.'"),"."),(0,r.kt)("li",{parentName:"ul"},"It is guaranteed that the input board has only one solution.")),(0,r.kt)("h2",{id:"approach-1-recursion-with-backtrack"},"Approach 1: Recursion with Backtrack"),(0,r.kt)("p",null,"As we all would have try to solve Sudoku problem in the past, it's ",(0,r.kt)("inlineCode",{parentName:"p"},"9 x 9")," grid with numbers. "),(0,r.kt)("p",null,"As stated above, a number (in cell) should appear only once in row and column and ",(0,r.kt)("inlineCode",{parentName:"p"},"3 x 3")," block. "),(0,r.kt)("p",null,"Let's walk through with the given example above, 1st row - ",(0,r.kt)("inlineCode",{parentName:"p"},'"5","3",".",".","7",".",".",".","."'),". The 3rd column (2nd Index) is not filled with any fith any number. "),(0,r.kt)("p",null,"So what are the possibilities 3rd column can have? Well, It can be from ",(0,r.kt)("inlineCode",{parentName:"p"},"1-9"),", So we use 3 types of checks to place a number on the board. "),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Check the current row, columns from ",(0,r.kt)("inlineCode",{parentName:"li"},"1 - 9"),"."),(0,r.kt)("li",{parentName:"ol"},"Check the current column, rows from ",(0,r.kt)("inlineCode",{parentName:"li"},"1 - 9"),"."),(0,r.kt)("li",{parentName:"ol"},"Check the current cell block, which is ",(0,r.kt)("inlineCode",{parentName:"li"},"3 x 3")," grid.")),(0,r.kt)("p",null,"How to define ",(0,r.kt)("inlineCode",{parentName:"p"},"3 x 3")," block start and end range for the current cell we are operating on? Let's say our current cell is $(0, 2)$, we know by seeing the board, it's starts from $(0, 0)$ and end in the range of $(2, 2)$. We can use a simple idea to get the stand and end position, just use ",(0,r.kt)("inlineCode",{parentName:"p"},"row - row % sqrt(board.length)"),", Either we can use $sqrt$ approach or just use 3, since we know here Sudoku is ",(0,r.kt)("inlineCode",{parentName:"p"},"9 x 9")," matrix and any block is size of 3. "),(0,r.kt)("p",null,"For the above said cell $(0, 2)$, start range of this block is $(0, 0)$, since the start is clear, end is always within ",(0,r.kt)("inlineCode",{parentName:"p"},"3 x 3")," from the start index. "),(0,r.kt)("p",null,"Now, apply the above said 3 conditions, Try with number $1$, we check from column ",(0,r.kt)("inlineCode",{parentName:"p"},"1-9"),", if the row doesn't have number $1$, then we are clear about row. Next check the column direction (which is row) from ",(0,r.kt)("inlineCode",{parentName:"p"},"1-9"),", we are good again. The Last check to be performed in ",(0,r.kt)("inlineCode",{parentName:"p"},"3 x 3")," block. "),(0,r.kt)("p",null,"If all $3$ checks is valid, then we can place the number ($1$) in the current cell $(0, 2)$, Now let's move to the next emptied column. In case if we find any invalid cases like, number is already present from in the row or column or ",(0,r.kt)("inlineCode",{parentName:"p"},"3 x 3"),", we try with next number that is $2$. "),(0,r.kt)("p",null,"So for each cell, we trying with $n$ possibilities, The process continues till for all the rows and columns. If some cases we might end up being not able to place any number and we reached last number that is $9$. ",(0,r.kt)("strong",{parentName:"p"},"So it means we have placed some wrong order in the past, it requires us to validate the previous placed numbers on the board to solve the current cell problem.")," "),(0,r.kt)("p",null,"This types of situation problems can be solved with backtracking technique. If any of the current operation or action is going to cause future actions then we need to backtrack the previous cases, like placing next number and next number so on to solve the current problem. "),(0,r.kt)("p",null,"At the end, we would have solved all the cells in the board. "),(0,r.kt)("p",null,"Time complexity: O(9^n^2) - Exponential time complexity. "),(0,r.kt)("p",null,"Space complexity: $O(n)$"),(0,r.kt)(p,{mdxType:"Tabs"},(0,r.kt)(d,{value:"java",label:"Java",mdxType:"TabItem"},(0,r.kt)(m,{name:"@vigneshshiv",mdxType:"SolutionAuthor"}),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"class Solution {\n    public void solveSudoku(char[][] board) {\n        solveBoard(board);\n    }\n    \n    public boolean solveBoard(char[][] board) {\n        int n = board.length;\n        int row = -1;\n        int col = -1;\n        boolean emptyLeft = true;\n        // Empty Item, so fill that row & col\n        for (int i = 0; i < n; i++) {\n            for (int j = 0; j < n; j++) {\n                if (board[i][j] == '.') {\n                    row = i;\n                    col = j;\n                    emptyLeft = false;\n                    break;\n                }\n            }\n            // If empty left to be filled found, then break the loop\n            if (!emptyLeft) {\n                break;\n            }\n        }\n        if (emptyLeft) {\n            return true;\n        }\n        // Backtrack\n        for (char number = '1'; number <= '9'; number++) {\n            if (isSafeToPlace(board, row, col, number)) {\n                board[row][col] = number;\n                if (solveBoard(board)) {\n                    return true;\n                } else {\n                    // Backtrack\n                    board[row][col] = '.';\n                }\n            }\n        }\n        return false; // Cannot be solved\n    }\n    \n    public boolean isSafeToPlace(char[][] board, int row, int col, char num) {\n        // Check the row, from col 0 to 8\n        for (int i = 0; i < board.length; i++) {\n            if (board[row][i] == num) {\n                return false;\n            }\n        }\n        // Check the column, from row 0 to row 8\n        for (char[] nums : board) {\n            if (nums[col] == num) {\n                return false;\n            }\n        }\n        int sqrt = (int) Math.sqrt(board.length);\n        int rowStart = row - row % sqrt;\n        int colStart = col - col % sqrt;\n        //\n        for (int r = rowStart; r < rowStart + sqrt; r++) {\n            for (int c = colStart; c < colStart + sqrt; c++) {\n                if (board[r][c] == num) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n}\n")))))}b.isMDXComponent=!0}}]);
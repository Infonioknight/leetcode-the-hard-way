"use strict";(self.webpackChunkleetcode_the_hard_way=self.webpackChunkleetcode_the_hard_way||[]).push([[16569],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>h});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),u=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},m=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},p="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},g=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),p=u(n),g=a,h=p["".concat(l,".").concat(g)]||p[g]||c[g]||o;return n?r.createElement(h,i(i({ref:t},m),{},{components:n})):r.createElement(h,i({ref:t},m))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=g;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:a,i[1]=s;for(var u=2;u<o;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}g.displayName="MDXCreateElement"},77149:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>k,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var r=n(87462),a=(n(67294),n(3905));const o={description:"Author: @wingkwong | https://leetcode.com/problems/longest-square-streak-in-an-array/",tags:["Array","Hash Table","Binary Search","Dynamic Programming","Sorting"]},i="2501 - Longest Square Streak in an Array (Medium)",s={unversionedId:"2500-2599/longest-square-streak-in-an-array-medium",id:"2500-2599/longest-square-streak-in-an-array-medium",title:"2501 - Longest Square Streak in an Array (Medium)",description:"Author: @wingkwong | https://leetcode.com/problems/longest-square-streak-in-an-array/",source:"@site/solutions/2500-2599/2501-longest-square-streak-in-an-array-medium.md",sourceDirName:"2500-2599",slug:"/2500-2599/longest-square-streak-in-an-array-medium",permalink:"/solutions/2500-2599/longest-square-streak-in-an-array-medium",draft:!1,editUrl:"https://github.com/wingkwong/leetcode-the-hard-way/tree/main/solutions/2500-2599/2501-longest-square-streak-in-an-array-medium.md",tags:[{label:"Array",permalink:"/solutions/tags/array"},{label:"Hash Table",permalink:"/solutions/tags/hash-table"},{label:"Binary Search",permalink:"/solutions/tags/binary-search"},{label:"Dynamic Programming",permalink:"/solutions/tags/dynamic-programming"},{label:"Sorting",permalink:"/solutions/tags/sorting"}],version:"current",sidebarPosition:2501,frontMatter:{description:"Author: @wingkwong | https://leetcode.com/problems/longest-square-streak-in-an-array/",tags:["Array","Hash Table","Binary Search","Dynamic Programming","Sorting"]},sidebar:"tutorialSidebar",previous:{title:"2500 - 2599",permalink:"/solutions/category/2500---2599"},next:{title:"2520 - Count the Digits That Divide a Number (Easy)",permalink:"/solutions/2500-2599/count-the-digits-that-divide-a-number-easy"}},l={},u=[{value:"Problem Link",id:"problem-link",level:2},{value:"Problem Statement",id:"problem-statement",level:2},{value:"Approach 1: Brute Force",id:"approach-1-brute-force",level:2}],m=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,a.kt)("div",t)},p=m("Tabs"),c=m("TabItem"),g=m("SolutionAuthor"),h={toc:u},d="wrapper";function k(e){let{components:t,...n}=e;return(0,a.kt)(d,(0,r.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"2501---longest-square-streak-in-an-array-medium"},"2501 - Longest Square Streak in an Array (Medium)"),(0,a.kt)("h2",{id:"problem-link"},"Problem Link"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://leetcode.com/problems/longest-square-streak-in-an-array/"},"https://leetcode.com/problems/longest-square-streak-in-an-array/")),(0,a.kt)("h2",{id:"problem-statement"},"Problem Statement"),(0,a.kt)("p",null,"You are given an integer array ",(0,a.kt)("inlineCode",{parentName:"p"},"nums"),". A subsequence of ",(0,a.kt)("inlineCode",{parentName:"p"},"nums")," is called a ",(0,a.kt)("strong",{parentName:"p"},"square streak")," if:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"The length of the subsequence is at least ",(0,a.kt)("inlineCode",{parentName:"li"},"2"),", and"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"after")," sorting the subsequence, each element (except the first element) is the ",(0,a.kt)("strong",{parentName:"li"},"square")," of the previous number.")),(0,a.kt)("p",null,"Return",(0,a.kt)("em",{parentName:"p"},"the length of the ",(0,a.kt)("strong",{parentName:"em"},"longest square streak")," in"),(0,a.kt)("inlineCode",{parentName:"p"},"nums"),(0,a.kt)("em",{parentName:"p"},", or return"),(0,a.kt)("inlineCode",{parentName:"p"},"-1"),(0,a.kt)("em",{parentName:"p"},"if there is no ",(0,a.kt)("strong",{parentName:"em"},"square streak"),".")),(0,a.kt)("p",null,"A ",(0,a.kt)("strong",{parentName:"p"},"subsequence")," is an array that can be derived from another array by deleting some or no elements without changing the order of the remaining elements."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Example 1:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"Input: nums = [4,3,6,16,8,2]\nOutput: 3\nExplanation: Choose the subsequence [4,16,2]. After sorting it, it becomes [2,4,16].\n- 4 = 2 * 2.\n- 16 = 4 * 4.\nTherefore, [4,16,2] is a square streak.\nIt can be shown that every subsequence of length 4 is not a square streak.\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Example 2:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"Input: nums = [2,3,5,6,7]\nOutput: -1\nExplanation: There is no square streak in nums so return -1.\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Constraints:")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"2 <= nums.length <= 10 ^ 5")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"2 <= nums[i] <= 10 ^ 5"))),(0,a.kt)("h2",{id:"approach-1-brute-force"},"Approach 1: Brute Force"),(0,a.kt)("p",null,"We can brute force to find the longest subsequence from the range $","[1, 317]","$ since the max number could be $10^5$. We first put every number to a set then iterate from $1$ to $317$. If the current number $i$ is in the set, we can increase the counter and update the number by multipying itself and record the maximum count. At the end, we just need to check if the longest length is greater than $1$ (since the length of the subsequence is at least $2$)."),(0,a.kt)(p,{mdxType:"Tabs"},(0,a.kt)(c,{value:"cpp",label:"C++",mdxType:"TabItem"},(0,a.kt)(g,{name:"@wingkwong",mdxType:"SolutionAuthor"}),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cpp"},"class Solution {\npublic:\n    int longestSquareStreak(vector<int>& nums) {\n        // brute force from [1, mx]\n        int n = nums.size(), mx = sqrt(1e5) + 1, ans = 0;\n        // put every number to a set\n        set<long long> s(nums.begin(), nums.end());\n        for (int i = 1; i <= mx; i++) {\n            // starting from i\n            long long now = i;\n            // init counter\n            long long cnt = 0;\n            // check if the current number is in the set\n            while (s.count(now)) {\n                // if so, we increase the counter\n                cnt += 1;\n                // update the number\n                now *= now;\n                // break if it's greater than the boundary\n                if (now > 1e5) {\n                    break;\n                }\n            }\n            // update the longest length of the subsequence\n            ans = max(ans, (int) cnt);\n        }\n        // the length of the subsequence is at least 2\n        return ans >= 2 ? ans : -1;\n    }\n};\n")))))}k.isMDXComponent=!0}}]);